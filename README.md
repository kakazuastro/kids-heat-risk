# あついよ！熱中症みまもりAI

子どもの熱中症リスクを予測し、適切な対策をアドバイスするAIシステムです。


## 主な機能

### 年齢別リスク判定
- **0-1歳（乳児）**: 最も厳格な基準で判定
- **2-3歳（幼児）**: 厳格な基準で判定  
- **4-6歳（園児）**: 標準基準で判定

各年齢グループに応じて、体温調節機能の未熟さや身長による輻射熱の影響を考慮した独自の判定基準を適用。

### リアルタイム気象データ取得
- **GPS自動取得**: 現在地から最寄りの気象観測所を自動選択
- **手動選択**: 全国47都道府県の観測所から手動選択可能
- **気象庁アメダスデータ**: 気温、湿度、風速、日射量をリアルタイム取得

### AI画像解析機能
- **外出前後比較**: 2枚の画像から体調変化を分析
- **環境分析**: 単一画像から環境要因を分析
- **Google Gemini AI**: プライバシー保護しながら安全に画像解析

### 視覚的リスク表示
- **円形プログレスバー**: 危険レベルを直感的に表示
- **カラーバー**: 年齢別の判定基準を色分け表示
- **段階的危険レベル**: 7段階（ほぼ安全～非常に危険レベル3）

## 技術構成

### フロントエンド
- **HTML5 + CSS3 + JavaScript**
- **レスポンシブデザイン**: スマートフォン・タブレット対応
- **GPS API**: Geolocation APIによる現在地取得

### バックエンド
- **Google Cloud Function**: サーバーレス実行環境
- **Google Gemini API**: AI画像解析・テキスト生成
- **気象庁JSONデータ**: アメダス観測データ取得

### インフラストラクチャ
- **Firebase Hosting**: 静的ファイル配信
- **CORS対応**: クロスオリジンリクエスト対応

## API エンドポイント

### メイン判定API
```
POST/GET https://kids-heat-risk-865761751183.asia-northeast1.run.app/
```

**パラメータ:**
- `age_group`: 年齢グループ ("0-1", "2-3", "4-6")
- `station_id`: 観測所ID（オプション）
- `location`: GPS座標（オプション）
- `before_image`: 外出前画像（Base64, オプション）
- `after_image`: 帰宅後画像（Base64, オプション）


## 特徴

### 年齢別カスタマイズ基準
一般的な成人向け暑さ指数（WBGT）基準より大幅に厳格な、子ども専用の判定基準を採用:

| 年齢 | 注意 | 警戒 | 厳重警戒 | 危険 |
|------|------|------|----------|------|
| 0-1歳 | 22°C以上 | 23°C以上 | 25°C以上 | 28°C以上 |
| 2-3歳 | 23°C以上 | 24°C以上 | 26°C以上 | 29°C以上 |
| 4-6歳 | 24°C以上 | 25°C以上 | 27°C以上 | 30°C以上 |

### 子ども特有の要因を考慮
- **身長と輻射熱**: 地面に近いため輻射熱の影響が強い
- **体温調節機能**: 未熟で大人より熱中症になりやすい
- **自己申告の困難**: 体調変化を正確に伝えられない
- **車内・ベビーカー温度**: 閉鎖空間での温度上昇を計算

### プライバシー保護
- **画像の自動削除**: 分析完了後、画像データは自動的に破棄
- **個人特定なし**: 個人の特定や目的外使用は一切なし
- **Googleプライバシーポリシー準拠**: 安全なAI分析環境


## 対応データ

- **全国のアメダス観測所**: 400箇所以上の気象観測所データ
- **対応画像形式**: JPEG, PNG, WebP (最大5MB)
- **更新間隔**: 10分毎の気象データ更新
- **精度**: GPS精度に応じた最寄り観測所自動選択

## 重要な注意事項

このアプリは**参考情報を提供するツール**です。

- **緊急時は迷わず医療機関を受診**してください
- **最終判断は保護者が行う**ことを前提としています
- **気象条件の急変**には対応できない場合があります

### 緊急連絡先
- **救急車**: 119
- **救急安心センター**: #7119
- **子ども医療相談**: #8000


## 開発チーム

Google ハッカソン 2025 参加プロジェクト  
子どもたちの安全な夏を願って開発されました。

